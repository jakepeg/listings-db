{"ast":null,"code":"import _Promise from \"@babel/runtime-corejs2/core-js/promise\";\nimport _regeneratorRuntime from \"@babel/runtime-corejs2/regenerator\";\nimport _JSXStyle from \"styled-jsx/style\";\nvar __jsx = React.createElement;\nimport React, { useState } from 'react';\nimport ClientOnlyPortal from './ClientOnlyPortal';\nimport Link from 'next/link';\nimport Details from './detail';\nimport { getActivityById } from '../actions';\n\nvar ActivityList = function ActivityList(props) {\n  var _useState = useState(),\n      open = _useState[0],\n      setOpen = _useState[1];\n\n  var activities = props.activities;\n\n  var _useState2 = useState({\n    id: \"\",\n    name: \"\",\n    category: \"\",\n    description: \"\",\n    image: \"\",\n    website: \"\",\n    city: \"\",\n    address: \"\",\n    phone: \"\",\n    phoneFormatted: \"\",\n    price: \"\",\n    ageFrom: \"\",\n    ageTo: \"\"\n  }),\n      selectedActivity = _useState2[0],\n      setSelectedActivity = _useState2[1];\n\n  var openModal = function openModal(id) {\n    var activity;\n    return _regeneratorRuntime.async(function openModal$(_context) {\n      while (1) {\n        switch (_context.prev = _context.next) {\n          case 0:\n            _context.next = 2;\n            return _regeneratorRuntime.awrap(getActivityById(id));\n\n          case 2:\n            activity = _context.sent;\n            // 2 update the selectedActivity state\n            setSelectedActivity({\n              id: activity.id,\n              name: activity.name,\n              category: activity.category,\n              description: activity.description,\n              image: activity.image,\n              website: activity.website,\n              city: activity.city,\n              address: activity.address,\n              phone: activity.phone,\n              phoneFormatted: activity.phoneFormatted,\n              price: activity.price,\n              ageFrom: activity.ageFrom,\n              ageTo: activity.ageTo\n            }); // 3 open the modal\n\n            setOpen(true);\n\n          case 5:\n          case \"end\":\n            return _context.stop();\n        }\n      }\n    }, null, null, null, _Promise);\n  };\n\n  return __jsx(React.Fragment, null, activities.map(function (activity) {\n    return __jsx(\"div\", {\n      key: activity.id,\n      className: \"jsx-845519236\"\n    }, __jsx(\"div\", {\n      className: \"jsx-845519236\" + \" \" + \"grid-item\"\n    }, __jsx(Link, {\n      href: \"/activities/\".concat(activity.id)\n    }, __jsx(\"div\", {\n      className: \"jsx-845519236\" + \" \" + \"card\"\n    }, __jsx(\"div\", {\n      style: {\n        background: 'url(' + activity.image + ')'\n      },\n      className: \"jsx-845519236\" + \" \" + \"card-image\"\n    }), __jsx(\"div\", {\n      className: \"jsx-845519236\" + \" \" + \"card-content\"\n    }, __jsx(\"h2\", {\n      className: \"jsx-845519236\"\n    }, activity.name), __jsx(\"div\", {\n      className: \"jsx-845519236\" + \" \" + \"card-footer\"\n    }, __jsx(\"div\", {\n      className: \"jsx-845519236\" + \" \" + \"age-range\"\n    }, activity.ageFrom + ' - ' + activity.ageTo + ' yrs'), __jsx(\"div\", {\n      className: \"jsx-845519236\" + \" \" + \"location\"\n    }, activity.city)))))));\n  }), open && __jsx(ClientOnlyPortal, {\n    selector: \"#modal\"\n  }, __jsx(\"div\", {\n    className: \"jsx-845519236\" + \" \" + \"backdrop\"\n  }, __jsx(\"div\", {\n    className: \"jsx-845519236\" + \" \" + \"modal\"\n  }, __jsx(Details, {\n    id: selectedActivity.id,\n    name: selectedActivity.name,\n    city: selectedActivity.city,\n    price: selectedActivity.price,\n    ageFrom: selectedActivity.ageFrom,\n    ageTo: selectedActivity.ageTo,\n    description: selectedActivity.description,\n    address: selectedActivity.address,\n    phone: selectedActivity.phone,\n    website: selectedActivity.website,\n    category: selectedActivity.category,\n    phoneFormatted: selectedActivity.phoneFormatted,\n    image: selectedActivity.image,\n    closeModal: function closeModal(event) {\n      return setOpen(false);\n    }\n  })))), __jsx(_JSXStyle, {\n    id: \"845519236\"\n  }, [\".backdrop.jsx-845519236{position:fixed;background-color:rgba(0,0,0,0.7);top:0;right:0;bottom:0;left:0;}\", \".modal.jsx-845519236{position:absolute;left:50%;margin-left:-570px;margin-top:200px;width:1140px;}\", \".card.jsx-845519236{width:350px;height:340px;background:#fff;box-shadow:0px 3px 5px -1px rgba(0,0,0,0.2),0px 5px 8px 0px rgba(0,0,0,0.14),0px 1px 14px 0px rgba(0,0,0,0.12);-webkit-transition:0.3s;transition:0.3s;cursor:pointer;}\", \".card.jsx-845519236:hover{box-shadow:0px 6px 6px -3px rgba(0,0,0,0.2),0px 10px 14px 1px rgba(0,0,0,0.14),0px 4px 18px 3px rgba(0,0,0,0.12);}\", \".card-image.jsx-845519236{width:350px;height:250px;display:block!important;background-size:cover!important;background-repeat:no-repeat!important;}\", \".card-content.jsx-845519236{padding:0 20px;}\", \".card-footer.jsx-845519236{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;margin-top:-3px;color:rgb(0,0,0,0.8);}\", \".location.jsx-845519236{margin-left:auto;}\", \".close.jsx-845519236{margin-bottom:-150px;}\"]));\n};\n\nexport default ActivityList;","map":null,"metadata":{},"sourceType":"module"}